@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    --font-sans: 'Inter', ui-sans-serif, system-ui, -apple-system, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    --color-sidebar: #0f172a;
    --color-sidebar-light: #1e293b;
}

/* ================================================================
   Alpine.js cloak — hide elements until Alpine initializes
   ================================================================ */
[x-cloak] { display: none !important; }

/* ================================================================
   HRMS Modern UI — Ported from legacy app.css
   ================================================================ */

/* ── Loading Spinner ─────────────────────────────────────────── */
.loader-spinner {
    width: 48px; height: 48px;
    border: 3px solid rgba(99,102,241,0.15);
    border-top-color: #6366f1;
    border-radius: 9999px;
    animation: spin .8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }
.spinner-mini { width:16px; height:16px; border:2px solid rgba(255,255,255,0.5); border-top-color:#fff; border-radius:9999px; animation: spin .8s linear infinite; display:inline-block; vertical-align:middle; }

/* ── Sidebar ─────────────────────────────────────────────────── */
.sidebar {
    position: sticky; top: 0; height: 100vh; overflow-y: auto;
    align-self: flex-start; z-index: 30;
    background: #ffffff;
    border-right: 1px solid #e2e8f0;
    transition: width .28s cubic-bezier(.4,0,.2,1), padding .28s cubic-bezier(.4,0,.2,1);
    will-change: width;
    contain: layout style;
    scrollbar-width: thin; scrollbar-color: rgba(0,0,0,.08) transparent;
}
.sidebar::-webkit-scrollbar { width: 4px; }
.sidebar::-webkit-scrollbar-track { background: transparent; }
.sidebar::-webkit-scrollbar-thumb { background: rgba(0,0,0,.1); border-radius: 4px; }

.sidebar-brand {
    display: flex; align-items: center; gap: .75rem;
    padding: 1.25rem 1rem; border-bottom: 1px solid #e2e8f0;
    position: relative; z-index: 35;
}
.sidebar-brand .brand-icon {
    width: 2rem; height: 2rem; border-radius: .5rem;
    background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    display: flex; align-items: center; justify-content: center;
    color: #fff; font-weight: 700; font-size: .875rem;
    flex-shrink: 0; box-shadow: 0 2px 8px rgba(99,102,241,.3);
}
.sidebar-brand .brand-text {
    font-size: 1.125rem; font-weight: 700; color: #0f172a;
    letter-spacing: -.01em;
}
.sidebar-brand .brand-sub {
    font-size: .65rem; color: #94a3b8; text-transform: uppercase;
    letter-spacing: .06em; margin-top: .125rem;
}

.sidebar-collapse-btn {
    display: flex; align-items: center; justify-content: center;
    width: 2rem; height: 2rem; border-radius: .375rem;
    color: #64748b; background: #f8fafc;
    border: 1px solid #e2e8f0; cursor: pointer;
    transition: all .15s ease;
    flex-shrink: 0;
}
.sidebar-collapse-btn:hover { background: #f1f5f9; color: #334155; border-color: #cbd5e1; transform: scale(1.05); }

.nav-item {
    position: relative; display: flex; align-items: center;
    gap: .625rem; padding: .5rem .75rem; border-radius: .5rem;
    color: #475569; font-size: .8125rem; font-weight: 450;
    transition: background .15s ease, color .15s ease, transform .1s ease;
    margin: 1px 0;
}
.nav-item:hover { background: #f8fafc; color: #1e293b; transform: translateX(1px); }
.nav-icon {
    width: 1.25rem; height: 1.25rem;
    display: inline-flex; align-items: center; justify-content: center;
    color: #94a3b8; flex-shrink: 0;
    transition: color .15s;
}
.nav-item:hover .nav-icon { color: #64748b; }
.nav-item.active { background: transparent; color: #4f46e5; font-weight: 600; }
.nav-item.active .nav-icon { color: #4f46e5; }

.group-label {
    color: #94a3b8; font-weight: 600; letter-spacing: .08em;
    padding: .375rem .75rem; margin-top: .5rem;
    transition: opacity .22s cubic-bezier(.4,0,.2,1);
}
.group-label svg { color: #cbd5e1; transition: transform .2s; }
.group-sep { height: 1px; background: #e2e8f0; margin: .125rem .75rem; }
.group-content { overflow: hidden; transition: max-height .3s cubic-bezier(.4,0,.2,1), opacity .25s cubic-bezier(.4,0,.2,1); max-height: none; opacity: 1; }
.group-content.is-collapsed { max-height: 0; opacity: 0; }
.sidebar .sidebar-label { display: inline-block; white-space: nowrap; transition: opacity .22s cubic-bezier(.4,0,.2,1), width .22s cubic-bezier(.4,0,.2,1), margin .22s cubic-bezier(.4,0,.2,1); }
.sidebar.collapsed .sidebar-label { opacity: 0; width: 0; margin: 0; overflow: hidden; }

/* Collapsed sidebar */
.sidebar.collapsed { width: 4.25rem; overflow: visible; }
.sidebar.collapsed .sidebar-brand { justify-content: center; padding: 1rem .5rem; position: relative; }
.sidebar.collapsed .sidebar-brand .brand-text,
.sidebar.collapsed .sidebar-brand .brand-sub { display: none; }
.sidebar.collapsed .sidebar-collapse-btn {
    position: absolute; right: -0.875rem; top: 50%; transform: translateY(-50%);
    width: 1.75rem; height: 1.75rem; border-radius: 50%;
    background: #ffffff; border: 1px solid #e2e8f0; color: #64748b;
    box-shadow: 0 1px 3px rgba(0,0,0,.1);
}
.sidebar.collapsed .sidebar-collapse-btn svg { transform: rotate(180deg); }
.sidebar.collapsed .nav-item { justify-content: center; padding: .625rem; }
.sidebar.collapsed .nav-item .nav-icon { margin: 0; }
.sidebar.collapsed .nav-item .sidebar-label { display: none; }
.sidebar.collapsed .nav-group { display: contents; }
.sidebar.collapsed .group-content { max-height: none !important; opacity: 1 !important; display: contents; }
.sidebar.collapsed .group-label { opacity: 0; height: 0; line-height: 0; margin: 0; padding: 0; overflow: hidden; pointer-events: none; }
.sidebar.collapsed .group-sep { display: block !important; }
.sidebar.collapsed .nav-item.active { background: transparent; }
.sidebar.collapsed .nav-item.active .nav-icon { color: #4f46e5; }
.sidebar.collapsed .nav-item .nav-icon { color: #94a3b8; }

/* Collapsed tooltips */
.sidebar.collapsed .nav-item::after {
    content: attr(data-tip); position: absolute; left: 4.5rem; top: 50%;
    transform: translateY(-50%) translateX(-6px);
    background: #1e293b; color: #f1f5f9;
    padding: .375rem .625rem; border-radius: .375rem;
    font-size: .75rem; font-weight: 500;
    opacity: 0; pointer-events: none;
    transition: all .15s cubic-bezier(.4,0,.2,1);
    white-space: nowrap; z-index: 60;
    box-shadow: 0 4px 12px rgba(0,0,0,.25);
}
.sidebar.collapsed .nav-item:hover::after { opacity: 1; transform: translateY(-50%) translateX(0); }

/* ── Layout ──────────────────────────────────────────────────── */
#layoutRoot { height: 100vh; }
#layoutRoot > .flex-1 { height: 100vh; overflow: hidden; }
#layoutRoot > .flex-1 > main { overflow-y: auto; }
#appMain { overflow-x: hidden; max-width: 100%; }

/* ── Top bar ─────────────────────────────────────────────────── */
.top-bar {
    background: #fff; border-bottom: 1px solid #e5e7eb;
    padding: .5rem 1.25rem;
    display: flex; align-items: center; justify-content: space-between;
    position: sticky; top: 0; z-index: 40;
    min-height: 3.25rem;
}
.top-bar .page-title { font-size: 1rem; font-weight: 600; color: #0f172a; }

/* ── Buttons ─────────────────────────────────────────────────── */
.btn {
    display: inline-flex; align-items: center; justify-content: center;
    border-radius: .5rem; font-weight: 600; line-height: 1.25rem;
    padding: .5rem .875rem; border: 1px solid transparent;
    font-size: .8125rem;
    transition: background-color .15s ease, color .15s ease, box-shadow .15s ease, transform .1s ease, border-color .15s ease;
    user-select: none;
}
.btn:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,.06); }
.btn:active { transform: translateY(0); }
.btn:disabled { opacity: .55; cursor: not-allowed; box-shadow: none; transform: none; }
.btn-icon { padding: 0.5rem; width: 2.25rem; height: 2.25rem; }
.btn-primary { background: linear-gradient(135deg, #6366f1, #4f46e5); color: #fff; }
.btn-primary:hover { background: linear-gradient(135deg, #4f46e5, #4338ca); box-shadow: 0 4px 14px rgba(99,102,241,.25); }
.btn-secondary { background-color: #374151; color: #fff; }
.btn-secondary:hover { background-color: #1f2937; }
.btn-accent { background: linear-gradient(135deg, #6366f1, #8b5cf6); color: #fff; }
.btn-accent:hover { background: linear-gradient(135deg, #4f46e5, #7c3aed); }
.btn-warning { background-color: #d97706; color: #fff; }
.btn-warning:hover { background-color: #b45309; }
.btn-danger { background-color: #dc2626; color: #fff; }
.btn-danger:hover { background-color: #b91c1c; }
.btn-outline { background: #fff; color:#374151; border-color:#e5e7eb; }
.btn-outline:hover { background:#f9fafb; border-color:#d1d5db; }

/* ── Forms ────────────────────────────────────────────────────── */
.input-text { border: 1px solid #e5e7eb; background:#fff; padding: 0.5rem 0.75rem; border-radius: 0.5rem; min-width: 12rem; font-size: 0.875rem; }
.input-text:hover { background:#f9fafb; border-color: #d1d5db; }
input:focus, textarea:focus, select:focus {
    outline: none !important;
    box-shadow: 0 0 0 3px rgba(99,102,241,0.12);
    border-color: #a5b4fc !important;
    background-color: rgba(99,102,241,0.02);
}
.input-error { border-color: #ef4444 !important; box-shadow: 0 0 0 3px rgba(239,68,68,0.15) !important; }
.field-error { color:#ef4444; font-size:.8rem; margin-top:.25rem; }
label.required::after { content:" *"; color:#ef4444; }

/* ── Cards ────────────────────────────────────────────────────── */
.card { background-color: #fff; border-radius: .75rem; box-shadow: 0 1px 3px rgba(0,0,0,.04), 0 1px 2px rgba(0,0,0,.02); border: 1px solid #f1f5f9; }
.card-header { padding: .75rem 1rem; border-bottom: 1px solid #f1f5f9; font-weight: 600; }
.card-body { padding: 1rem; }

/* ── Tables ───────────────────────────────────────────────────── */
.table-basic { width: 100%; font-size: 0.875rem; border-collapse: collapse; }
.table-basic th { text-align: left; background-color: #f8fafc; padding: .625rem .75rem; font-weight: 600; color: #475569; font-size: .8125rem; }
.table-basic td { padding: .625rem .75rem; border-top: 1px solid #f1f5f9; }
.table-basic tbody tr:hover { background-color: #f8fafc; }

.action-links { display: inline-flex; align-items: center; gap: .5rem; }
.action-links > * + * { position: relative; padding-left: .75rem; }
.action-links > * + *::before { content: ''; position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 1px; height: 1rem; background: #e5e7eb; }

/* ── Dropdowns ───────────────────────────────────────────────── */
.dropdown { position: relative; display: inline-block; }
.dropdown-menu { position: absolute; right: 0; top: calc(100% + .25rem); min-width: 9rem; background: #fff; border: 1px solid #e5e7eb; border-radius: .625rem; box-shadow: 0 8px 24px rgba(0,0,0,.08); z-index: 50; overflow: hidden; }
.dropdown-item { display:block; padding:.5rem .75rem; font-size:.875rem; color:#374151; transition: background .1s; }
.dropdown-item:hover { background:#f3f4f6; }

/* ── User Avatar ─────────────────────────────────────────────── */
.user-avatar {
    display: inline-flex; align-items: center; justify-content: center;
    width: 2rem; height: 2rem; border-radius: .5rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: #fff; font-weight: 600; font-size: .8125rem;
    flex-shrink: 0;
}

/* ── Mobile nav ──────────────────────────────────────────────── */
#mnav { background: #ffffff; border-bottom: 1px solid #e2e8f0; max-height: calc(100vh - 3.5rem); overflow-y: auto; }
#mnav a { color: #475569; border-radius: .5rem; font-weight: 450; }
#mnav a:hover { background: #f8fafc; color: #0f172a; }
#mnav .mobile-group-label { color: #94a3b8; }
#mnav .mobile-nav-divider { height: 1px; background: #e2e8f0; margin: 0.5rem 0.75rem; }

/* ── Mobile Optimizations ────────────────────────────────────── */
@media (max-width: 639px) {
    .btn { min-height: 2.5rem; padding: .5rem 1rem; }
    .card-body { padding: .75rem; }
    .card-header { padding: .625rem .75rem; }
    .table-basic th, .table-basic td { padding: .5rem .375rem; font-size: .75rem; }
    .top-bar { padding: .5rem .75rem; }
    .action-links { flex-direction: column; gap: .25rem; }
    .action-links > * + * { padding-left: 0; }
    .action-links > * + *::before { display: none; }
}
